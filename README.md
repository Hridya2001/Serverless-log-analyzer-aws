

#  Log Analyzer using AWS Lambda, Athena & Glue

This project demonstrates a **serverless architecture** on AWS for monitoring and analyzing log events generated by Lambda functions. The solution is designed to **ingest, process, store, analyze, and alert** based on log data — entirely using AWS managed services.

---

## Overview

Serverless Log Analyzer is a real-time log processing pipeline built using AWS services like Lambda, CloudWatch, S3, Glue, Athena, and SNS. The system:

- Captures logs from AWS Lambda
- Ships them to S3 using a log-shipper Lambda function
- Structures and catalogs the logs using AWS Glue
- Queries logs using Athena to detect issues
- Sends alerts when errors exceed a threshold

---

## Project Structure

serverless-log-analyzer/
│
├── lambda/
│ ├── my-function.py # Generates sample logs
│ ├── log-shipper.py # Sends logs from CloudWatch to S3
│ └── athena_alert_lambda.py # Queries logs and sends SNS alerts
│
├── athena/
│ └── athena_queries.sql # Sample Athena SQL queries
│
├── diagram/
│ └── image.png # Architecture diagram
│
├── .gitattributes # Language overrides for GitHub stats
└── README.md # You are here

---

##  Architecture

![Architecture Diagram](Diagrams/image.png)

---

##  Components & Responsibilities

| Component                     | Description |
|------------------------------|-------------|
| `Lambda (my-function)`       | Generates log messages (INFO, WARNING, ERROR) |
| `CloudWatch Logs`            | Stores logs from Lambda |
| `Lambda (log-shipper)`       | Subscribed to CloudWatch; parses and pushes logs to S3 |
| `S3: /logs/YYYY/MM/DD/`      | Stores structured logs for each day |
| `S3: /athena-results/`       | Stores the result of Athena SQL queries |
| `Glue Crawler`               | Scans logs in S3 and creates schema |
| `Glue Data Catalog`          | Stores table definitions for Athena |
| `Athena`                     | Executes SQL queries on logs |
| `Lambda (athena_alert_lambda)` | Periodically checks error counts and triggers alerts |
| `SNS`                        | Sends alerts via Email, SMS, or App Notification |

---

##  Features

-  Fully Serverless Architecture
-  Structured S3 log storage with timestamps
-  SQL-based log analytics using Athena
-  Real-time alerts via Amazon SNS
-  Auto-generated schema from JSON logs via Glue
-  Email alerts for operational issues

---

##  Setup Instructions

### 1. Create Lambda Function: `my-function.py`

- Generates dummy logs
- Attach IAM Role:

```json
{
  "Effect": "Allow",
  "Action": [
    "logs:CreateLogGroup",
    "logs:CreateLogStream",
    "logs:PutLogEvents"
  ],
  "Resource": "*"
}

